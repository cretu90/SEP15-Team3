<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
	<ui:composition template="/WEB-INF/template.xhtml">
		<ui:define name="title">Anmeldung</ui:define>
		<ui:define name="content">
			<body>
				<h1>Anmeldung</h1>
				<div class="row">
					<div class="col-lg-12">
						<p style="font-size:16px;">Herzlich Willkommen bei <strong>OfCourse</strong>. <br />
						Hier können Sie Sich gleich im System anmelden oder ein neues Benutzerkonto generieren, falls Sie noch nicht registriert sind. <br />
						Für weitere Informationen besuchen Sie bitte die Hilfe-Seite.</p>
					</div>
				</div>
				<div class="row" style="padding-top:20px;">
					<div class="col-lg-7">
						<div class="panel panel-info">
							<div class="panel-heading">
								<strong>Registrierung</strong>
							</div>
							<div class="panel-body">
								<h:form class="form-horizontal" id="formRegister">
								
									<div class="input-group">
										<span class="input-group-addon" style="width:160px; text-align:right;">Anrede:</span>
										<h:selectOneMenu class="form-control" id="titleRegister" 
										                  value="#{registerUserBean.userToRegistrate.salutation}">
										   	<f:selectItem itemValue="Herr" itemLabel="Herr" />
										   	<f:selectItem itemValue="Frau" itemLabel="Frau" />
										</h:selectOneMenu>
									</div>
									
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">Vorname:</span>
										<h:inputText class="form-control" style="width:300px;" id="firstnameRegister"
                                                      value="#{registerUserBean.userToRegistrate.firstname}"
                                                      validatorMessage="Ihr Vorname muss zwischen 0 und 100 Zeichen lang sein. ">
                                                      <f:validateLength minimum="0" maximum="100" />
										</h:inputText>
									</div>
									
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">Name:</span>
										<h:inputText class="form-control" style="width:300px;" id="lastnameRegister"
										             value="#{registerUserBean.userToRegistrate.lastname}"
                                                      validatorMessage="Ihr Nachname muss zwischen 0 und 100 Zeichen lang sein. ">
                                                      <f:validateLength minimum="0" maximum="100" />
										</h:inputText>
									</div>
									
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">Benutzername:</span>
										<h:inputText class="form-control" style="width:300px;" id="usernameRegister"
										             value="#{registerUserBean.userToRegistrate.username}"
										             required="true"  requiredMessage="Bitte geben Sie einen Benutzernamen ein."
                                                     validatorMessage="Ihr Nachname muss zwischen 5 und 100 Zeichen lang sein. ">
                                                     <f:validateLength minimum="5" maximum="100" />
                                                     <f:validator validatorId="userNameValidator" />
										</h:inputText>
                                        <h:message for="usernameRegister" style="color:red" />
									</div>
									
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">Passwort:</span>
										<h:inputSecret class="form-control" style="width:300px;" id="passwordRegister"
										               value="#{registerUserBean.registerPassword}"
                                                       required="true"  requiredMessage="Bitte geben Sie ein Passwort ein."
                                                       validatorMessage="Ihr Passwort darf höchstens 100 Zeichen lang sein. ">
                                                     <f:validateLength maximum="100" />
                                                     <f:validator validatorId="passwordValidator" />
										</h:inputSecret>
										 <h:message for="passwordRegister" style="color:red" />
									</div>
									
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">Passwort bestätigen:</span>
										<h:inputSecret class="form-control" style="width:300px;" id="passwordConfirmRegister"
										               value="#{registerUserBean.registerConfirmPassword}"
                                                       required="true"  requiredMessage="Bitte geben Sie Ihr Passwort zur Bestätigung ein."
                                                       validatorMessage="Ihr Passwort darf höchstens 100 Zeichen lang sein. ">
                                                     <f:validateLength maximum="100" />
                                                     <f:validator validatorId="confirmPasswordValidator" />
                                        </h:inputSecret>
                                         <h:message for="passwordConfirmRegister" style="color:red" />
									</div>
									
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">Geburtstag:</span>
										<h:inputText class="form-control" style="width:300px;" id="birthdateRegister"
										             value="#{registerUserBean.userToRegistrate.dateOfBirth}"
										             converterMessage="Datum existiert nicht oder Format (yyyy-MM-dd) ist falsch." >
										             <f:convertDateTime pattern="yyyy-MM-dd" timeZone="Europe/Berlin" />
										             <f:validator validatorId="dateOfBirthValidator" />
										</h:inputText>
										<h:message for="birthdateRegister" style="color:red" />
									</div>
									
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">Straße:</span>
										<h:inputText class="form-control" style="width:300px;" id="streetRegister"
										             value="#{registerUserBean.userToRegistrate.address.street}" 
										             validatorMessage="Ihre Eingabe darf höchstens 100 Zeichen lang sein. ">
                                                     <f:validateLength maximum="100" />
										</h:inputText>
									</div>
									
									<div class="input-group" style="padding-top:5px;">
                                        <span class="input-group-addon" style="width:160px; text-align:right;">Hausnummer:</span>
                                        <h:inputText class="form-control" style="width:300px;" id="houseNumberRegister"
                                                     value="#{registerUserBean.userToRegistrate.address.houseNumber}" 
                                                     validatorMessage="Ihre Eingabe darf höchstens 9 Zeichen lang sein. ">
                                                     <f:validateLength maximum="9" />
                                        </h:inputText>
                                    </div>
                                    
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">Stadt:</span>
										<h:inputText class="form-control" style="width:300px;" id="locationRegister"
										             value="#{registerUserBean.userToRegistrate.address.city}" 
										             required="true"  requiredMessage="Bitte geben Sie eine Stadt ein."
                                                     validatorMessage="Ihre Eingabe muss zwischen 1 und 100 Zeichen lang sein. ">
                                                     <f:validateLength minimum ="1" maximum="100" />
										</h:inputText>
									</div>
									
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">Postleitzahl:</span>
										<h:inputText class="form-control" style="width:300px;" id="zipcodeRegister"
										             value="#{registerUserBean.userToRegistrate.address.zipCode}" 
                                                     required="true"  requiredMessage="Bitte geben Sie eine Postleitzahl ein."
                                                     validatorMessage="Ihre Eingabe muss zwischen 1 und 10 Zeichen lang sein. ">
                                                     <f:validateLength minimum ="1" maximum="10" />
										</h:inputText>
									</div>
									
									<div class="input-group" style="padding-top:5px;">
                                        <span class="input-group-addon" style="width:160px; text-align:right;">Land:</span>
                                        <h:inputText class="form-control" style="width:300px;" id="countryRegister"
                                                     value="#{registerUserBean.userToRegistrate.address.country}" 
                                                     required="true"  requiredMessage="Bitte geben Sie ein Land ein."
                                                     validatorMessage="Ihre Eingabe muss zwischen 1 und 100 Zeichen lang sein. ">
                                                     <f:validateLength minimum ="1" maximum="100" />
                                        </h:inputText>
                                    </div>
									
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:160px; text-align:right;">E-Mail-Adresse:</span>
										<h:inputText class="form-control" style="width:300px;" id="emailRegister"
										             value="#{registerUserBean.userToRegistrate.email}" 
                                                     required="true"  requiredMessage="Bitte geben Sie Ihre E-MAil-Adresse ein."
                                                     validatorMessage="Ihre Eingabe muss zwischen 1 und 319 Zeichen lang sein und ein gültiges Format haben. ">
                                                     <f:validateLength minimum ="1" maximum="319" />
                                                     <f:validateRegex pattern="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@ [A-Za-z0-9-]+(\\.[A-Za-z0-9.-]+)*(\\.[A-Za-z]{2,})$"/>
                                        </h:inputText>
									</div>
									
									<br />
									<div>
										<h:selectBooleanCheckbox value="" required="true"  
										                  requiredMessage="Bitte bestätigen Sie die AGBs."/> 
										                  Ich habe die AGBs gelesen und stimme zu.
									</div>
									<br />
									<h:commandButton id="login" action ="#{RegisterUserBean.registerUser}" class="btn btn-info" value="Registrieren" />
								</h:form>	
							</div>
						</div>					
					</div>
					<div class="col-lg-5">
						<div class="panel panel-info">
							<div class="panel-heading">
								<strong>Anmeldung</strong>
							</div>
							<div class="panel-body">
								<h:form class="form-horizontal" id="formLogin">
									<div class="input-group">
										<span class="input-group-addon" style="width:140px; text-align:right;">Benutzername:</span>
										<h:inputText class="form-control" id="usernameLogin" value="#{authenticateUserBean.loginUser.username}"
										             required="true" requiredMessage="Bitte geben Sie Ihren Benutzernamen ein." 
										             validatorMessage="Ihr Benutzername muss zwischen 5 und  1oo Zeichen lang sein."
										             style="width:250px;">
										             <f:validateLength minimum="5" maximum="100" />
									   </h:inputText>
									</div>
									<div class="input-group" style="padding-top:5px;">
										<span class="input-group-addon" style="width:140px; text-align:right;">Passwort:</span>
										<h:inputSecret class="form-control" id="passwordLogin" value="#{authenticateUserBean.loginpassword}" 
										              required="true" requiredMessage="Bitte geben Sie Ihr Passwort ein." 
										              validatorMessage="Ihr Passwort muss zwischen 8 und 1oo Zeichen lang sein."
										              style="width:250px;">
										              <f:validateLength minimum="8" maximum="100" />
										              <f:validateRegex pattern="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@ [A-Za-z0-9-]+(\\.[A-Za-z0-9.-]+)*(\\.[A-Za-z]{2,})$"/>
										</h:inputSecret>
									</div>
									<br />
									<h:commandButton id="login" action ="#{AuthenticateUserBean.login}" class="btn btn-info" value="Anmelden" />
								</h:form>								
							</div>
						</div>								
						<div class="panel panel-info">
							<div class="panel-heading">
								<strong>Passwort vergessen</strong>
							</div>
							<div class="panel-body">
								<h:form class="form-horizontal" id="formForgotPassword">
									<div class="input-group">
										<span class="input-group-addon" style="width:140px; text-align:right;">E-Mail-Adresse:</span>
										<h:inputText class="form-control" id="passwordEMail" style="width:250px;"
										              value="#{lostPasswordBean.emailAddressToResetPassword}"
										              required="true" requiredMessage="Bitte geben Sie Ihre E-Mail-Adresse ein." >
										             
                                        </h:inputText>
                                            <h:message for="passwordEMail" style="color:red" />
									</div>
									<br />
									<h:commandButton id="newPassword" action ="#{LostPasswordBean.resetPassword}" class="btn btn-info" value="Neues Passwort anfordern" />
								</h:form>								
							</div>
						</div>								
					</div>
				</div>
			</body>
		</ui:define>
	</ui:composition>
</html>